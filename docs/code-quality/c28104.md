---
title: C28104
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- C28104
helpviewer_keywords:
- C28104
ms.assetid: 0dda7e70-7c63-4b6b-a3fc-adad0815f7f4
author: mikeblome
ms.author: mblome
manager: wpickett
ms.workload:
- multiple
ms.openlocfilehash: 65dd3b4fbd310a5ded12873e95a6a21920a5a57b
ms.sourcegitcommit: 21d667104199c2493accec20c2388cf674b195c3
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 02/08/2019
ms.locfileid: "55938889"
---
# <a name="c28104"></a>C28104
warning C28104: Zasób, który powinien zostać pozyskany przed zakończeniem funkcji nie został pozyskany

 Funkcja, która jest przeznaczona do uzyskania zasobu, zanim kończy działanie zostało zakończone bez uzyskiwania zasobu. To ostrzeżenie wskazuje, że funkcja jest oznaczony za pomocą `__drv_acquiresResource` , ale nie może zwracać faktycznie nabycia zasobu. Jeśli ta funkcja jest funkcją otoki, ścieżka przez funkcję nie dotarła opakowana funkcja. W przypadku niepowodzenia nawiązać opakowana funkcja ponieważ funkcja zwrócił błąd i nie uzyska faktycznie zasobu, może być konieczne użycie adnotacji warunkowej (`__drv_when`).

 Jeśli ta funkcja jest faktycznie implementuje pozyskiwanie zasobów, nie może być możliwe diagram dot wykryć, że zasób jest uzyskiwana. W takim przypadku należy użyć `#pragma` ostrzeżenia, aby pominąć ten błąd. Prawdopodobnie można umieścić `#pragma` w poprzednim wierszu `{` , która rozpoczyna się w treści funkcji. Wywołania funkcji nadal potrzebujesz adnotacji, ale narzędzie do analizy kodu nie będzie mógł wykryć, czy zasób został uzyskany.

## <a name="example"></a>Przykład

```
__drv_acquireResourceGlobal(HWLock, lockid)
void GetHardwareLock(lockid)
#pragma warning (suppress: 28104)
{
   // code to implement a hardware lock (which the Code Analysis tool can't recognize)
}
```