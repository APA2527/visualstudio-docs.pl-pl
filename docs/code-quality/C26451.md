---
title: C26451
keywords: C26451
author: mikeblome
ms.author: mblome
ms.date: 01/08/2017
ms.topic: reference
f1_keywords:
- C26451
helpviewer_keywords:
- C26451
dev_langs:
- C++
manager: jillfra
ms.openlocfilehash: b6aa33e7a1519bca78c450a0bf9c7fb9a19c01ef
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/23/2019
ms.locfileid: "62571719"
---
# <a name="warning-c26451-arithmetic-overflow-using-operator-operator-on-a-size1-byte-value-and-then-casting-the-result-to-a-size2-byte-value-cast-the-value-to-the-wider-type-before-calling-operator-operator-to-avoid-overflow"></a>Ostrzeżenie C26451: Przepełnienie arytmetyczne: Za pomocą operatora "operator % %" na wartość bajtową % size1%, a następnie rzutowanie wynik, który ma wartość bajtową % size2%. Rzutuj wartość na szerszy typ przed wywołaniem operatora "operator %" w celu uniknięcia przepełnienia

To ostrzeżenie wskazuje nieprawidłowe zachowanie, która wynika z reguły promocji typu całkowitego i typy większych niż te, w których najczęściej wykonywane operacje arytmetyczne.

Firma Microsoft wykrywaj wąskie typ. wartość całkowitą został przesunięte w lewo, pomnożona, dodawane lub odejmowane i wynik tej operacji arytmetycznej został rzutowane na wartość większą niż typu. Jeśli operacja nastąpiło przepełnienie wartości typu narrow, dane zostaną utracone. Taka utrata może uniemożliwić przez rzutowanie wartość na szerszy typ przed wykonaniem operacji arytmetycznej.

## <a name="example-1"></a>Przykład 1
Poniższy kod generuje to ostrzeżenie:

```cpp
void leftshift(int i)
{
  unsigned __int64 x;
  x = i << 31;  // C26451 reported here

  // code
}
```

Aby poprawić to ostrzeżenie, użyj następującego kodu:

```cpp
void leftshift(int i)
{
  unsigned __int64 x;
  x = (unsigned __int64)i << 31; // OK

  // code
}
```

## <a name="example-2"></a>Przykład 2

```cpp
void somefunc(__int64 y);

void callsomefunc(int x)
{
  somefunc(x * 2); // C26451 reported here

}
```

Aby poprawić to ostrzeżenie, użyj następującego kodu:

```cpp
void callsomefunc(int x)
{
  somefunc((__int64)x * 2); // OK
}
```

## <a name="example-3"></a>Przykład 3

```cpp
__int64 add(int x)
{
  constexpr auto value = 2;
  return x += value; // C26451 reported here
}
```

Aby poprawić to ostrzeżenie, użyj następującego kodu:

```cpp
__int64 add(int x)
{
  constexpr auto value = 2;
  const __int64 y = (__int64)x + value; // OK
  return y;
}
```

## <a name="see-also"></a>Zobacz także

- [ES.103: Nie z przepełnieniem](https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#Res-overflow)
