---
title: 'CA2208: Poprawnie twórz wystąpienia wyjątków argumentów'
ms.date: 05/18/2020
ms.topic: reference
f1_keywords:
- CA2208
- InstantiateArgumentExceptionsCorrectly
helpviewer_keywords:
- InstantiateArgumentExceptionsCorrectly
- CA2208
ms.assetid: e2a48939-d9fa-478c-b2f9-3bdbce07dff7
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CPP
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: 5b065ec4e672590a38b5c3269dde7c8abc454691
ms.sourcegitcommit: b885f26e015d03eafe7c885040644a52bb071fae
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/30/2020
ms.locfileid: "85524816"
---
# <a name="ca2208-instantiate-argument-exceptions-correctly"></a>CA2208: Poprawnie twórz wystąpienia wyjątków argumentów

|Element|Wartość|
|-|-|
|CheckId|CA2208|
|Kategoria|Microsoft. Usage|
|Zmiana podziału|Nieprzerwanie|

## <a name="cause"></a>Przyczyna

Gdy metoda ma parametr i zgłasza typ wyjątku, który jest lub pochodzi od, <xref:System.ArgumentException> oczekiwano wywołania konstruktora w celu `paramName` poprawnego zaakceptowania parametru. Możliwe przyczyny są następujące:

- Wykonano wywołanie domyślnego (bezparametrowego) konstruktora typu wyjątku, który jest lub pochodzi od, <xref:System.ArgumentException> który ma Konstruktor akceptujący `paramName` parametr.

- Do sparametryzowanego konstruktora typu wyjątku jest przenoszona niepoprawnym argumentem ciągu, który jest lub pochodzi od, <xref:System.ArgumentException> .

- Jeden z parametrów "names" jest przesyłany do `message` argumentu konstruktora typu wyjątku, który jest lub pochodzi od, <xref:System.ArgumentException> .

## <a name="rule-description"></a>Opis reguły

Zamiast wywoływania domyślnego konstruktora, wywołaj jedno z przeciążeń konstruktora, które pozwala na podano bardziej zrozumiały komunikat wyjątku. Komunikat o wyjątku powinien wskazywać dewelopera i jasno wyjaśnić warunek błędu oraz jak poprawić lub uniknąć wyjątku.

Sygnatury jednego i dwóch konstruktorów ciągów <xref:System.ArgumentException> i jego typów pochodnych nie są spójne z uwzględnieniem pozycji `message` i `paramName` parametrów. Upewnij się, że te konstruktory są wywoływane z prawidłowymi argumentami ciągu. Podpisy są następujące:

- <xref:System.ArgumentException>(ciąg `message` )
- <xref:System.ArgumentException>(String `message` , String `paramName` )
- <xref:System.ArgumentNullException>(ciąg `paramName` )
- <xref:System.ArgumentNullException>(String `paramName` , String `message` )
- <xref:System.ArgumentOutOfRangeException>(ciąg `paramName` )
- <xref:System.ArgumentOutOfRangeException>(String `paramName` , String `message` )
- <xref:System.DuplicateWaitObjectException>(ciąg `parameterName` )
- <xref:System.DuplicateWaitObjectException>(String `parameterName` , String `message` )

## <a name="how-to-fix-violations"></a>Jak naprawić naruszenia

Aby naprawić naruszenie tej reguły, Wywołaj konstruktora, który przyjmuje komunikat, nazwę parametru lub oba parametry, i upewnij się, że argumenty są odpowiednie dla typu <xref:System.ArgumentException> wywoływanego.

> [!TIP]
> Poprawka kodu jest dostępna dla nieprawidłowo pozycjonowanej nazwy parametru w programie Visual Studio. Aby go użyć, umieść kursor w wierszu ostrzeżenia i naciśnij klawisz **Ctrl** + **.** (kropka). Wybierz pozycję **Zamień kolejność argumentów** z listy prezentowanych opcji.
>
> ![Poprawka kodu dla argumentów wymiany CA2208](media/ca2208-codefix_swap.png)
>
> W przypadku <xref:System.ArgumentException> , gdy Przeciążenie (String `message` ) jest używane w sposób nieprawidłowy przy użyciu nazwy parametru, naprawiania zapewnia opcję użycia dwóch konstruktorów argumentów z `null` komunikatem.
> 
> ![Poprawka kodu dla argumentów wymiany CA2208](media/ca2208-codefix_null_msg.png)

## <a name="when-to-suppress-warnings"></a>Kiedy pominąć ostrzeżenia

Można bezpiecznie pominąć ostrzeżenie z tej reguły tylko wtedy, gdy Konstruktor sparametryzowany jest wywoływany z prawidłowymi argumentami ciągu.

## <a name="configurability"></a>Określając

Jeśli uruchamiasz tę regułę z [analizatorów FxCop](install-fxcop-analyzers.md) (a nie ze starszą analizą), możesz skonfigurować, które części bazy kodu mają uruchamiać tę regułę, na podstawie ich dostępności. Na przykład, aby określić, że reguła powinna być uruchamiana tylko względem publicznej powierzchni interfejsu API, Dodaj następującą parę klucz-wartość do pliku editorconfig w projekcie:

```ini
dotnet_code_quality.ca2208.api_surface = public
```
Domyślnie reguły CA2208 mają zastosowanie do całej powierzchni interfejsu API (publiczne, wewnętrzne i prywatne). Tę opcję można skonfigurować tylko dla tej reguły, dla wszystkich reguł lub dla wszystkich reguł w tej kategorii (projekt). Aby uzyskać więcej informacji, zobacz [Konfigurowanie analizatorów FxCop](configure-fxcop-analyzers.md).

## <a name="example"></a>Przykład

Poniższy kod przedstawia konstruktora, który nieprawidłowo tworzy wystąpienie wystąpienia <xref:System.ArgumentNullException> .

[!code-cpp[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#1](../code-quality/codesnippet/CPP/ca2208-instantiate-argument-exceptions-correctly_1.cpp)]
[!code-csharp[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#1](../code-quality/codesnippet/CSharp/ca2208-instantiate-argument-exceptions-correctly_1.cs?range=3-6)]
[!code-vb[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#1](../code-quality/codesnippet/VisualBasic/ca2208-instantiate-argument-exceptions-correctly_1.vb)]

Poniższy kod naprawia poprzednie naruszenie przez przełączenie argumentów konstruktora.

[!code-cpp[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#2](../code-quality/codesnippet/CPP/ca2208-instantiate-argument-exceptions-correctly_2.cpp)]
[!code-csharp[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#2](../code-quality/codesnippet/CSharp/ca2208-instantiate-argument-exceptions-correctly_2.cs?range=3-6)]
[!code-vb[FxCop.Usage.InstantiateArgumentExceptionsCorrectly#2](../code-quality/codesnippet/VisualBasic/ca2208-instantiate-argument-exceptions-correctly_2.vb)]

## <a name="related-rules"></a>Powiązane reguły

- [CA1507: Użyj operatora nameof zamiast ciągu](ca1507.md)
