---
title: 'CA1010: Kolekcje powinny implementować interfejs ogólny'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
helpviewer_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
ms.assetid: c7d7126f-fa70-40be-8f93-3243e1760dc5
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 102a62ec857f4e6322706546f17ff20a211e85c6
ms.sourcegitcommit: d20ce855461c240ac5eee0fcfe373f166b4a04a9
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/29/2020
ms.locfileid: "84179638"
---
# <a name="ca1010-collections-should-implement-generic-interface"></a>CA1010: Kolekcje powinny implementować interfejs ogólny

|||
|-|-|
|CheckId|CA1010|
|Kategoria|Microsoft. Design|
|Zmiana podziału|Nieprzerwanie|

## <a name="cause"></a>Przyczyna

Typ implementuje <xref:System.Collections.IEnumerable?displayProperty=fullName> interfejs, ale nie implementuje <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName> interfejsu, a zestaw zawierający jest przeznaczony dla platformy .NET. Ta reguła ignoruje typy, które implementują <xref:System.Collections.IDictionary?displayProperty=fullName> .

Domyślnie ta reguła sprawdza tylko typy widoczne na zewnątrz, ale [można to skonfigurować](#configurability). Można również skonfigurować dodatkowe interfejsy, aby wymagać zaimplementowania interfejsu ogólnego.

## <a name="rule-description"></a>Opis reguły

Aby poszerzyć użyteczność kolekcji, zaimplementuj jeden z interfejsów kolekcji generycznej. Następnie kolekcja może służyć do wypełniania typów ogólnych kolekcji, takich jak następujące:

- <xref:System.Collections.Generic.List%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Queue%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Stack%601?displayProperty=fullName>

## <a name="how-to-fix-violations"></a>Jak naprawić naruszenia

Aby naprawić naruszenie tej reguły, zaimplementuj jeden z następujących ogólnych interfejsów kolekcji:

- <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName>
- <xref:System.Collections.Generic.ICollection%601?displayProperty=fullName>
- <xref:System.Collections.Generic.IList%601?displayProperty=fullName>

## <a name="when-to-suppress-warnings"></a>Kiedy pominąć ostrzeżenia

Można bezpiecznie pominąć ostrzeżenie z tej reguły. Jednak użycie kolekcji będzie bardziej ograniczone.

## <a name="configurability"></a>Określając

Jeśli uruchamiasz tę regułę z [analizatorów FxCop](install-fxcop-analyzers.md) (a nie ze starszą analizą), możesz skonfigurować, które części bazy kodu mają uruchamiać tę regułę, na podstawie ich dostępności. Na przykład aby określić, że reguła powinna być uruchamiana tylko względem powierzchni niepublicznego interfejsu API, Dodaj następującą parę klucz-wartość do pliku editorconfig w projekcie:

```ini
dotnet_code_quality.ca1010.api_surface = private, internal
```

Tę opcję można skonfigurować tylko dla tej reguły, dla wszystkich reguł lub dla wszystkich reguł w tej kategorii (projekt). Aby uzyskać więcej informacji, zobacz [Konfigurowanie analizatorów FxCop](configure-fxcop-analyzers.md).

### <a name="additional-required-generic-interfaces"></a>Dodatkowe wymagane interfejsy ogólne

Można skonfigurować listę nazw interfejsów (oddzielonych znakami "|") z ich wymaganym ogólnym, w pełni kwalifikowanym interfejsem (rozdzielonym przez "->").

Dozwolone formaty interfejsów:

- Tylko nazwa interfejsu (zawiera wszystkie interfejsy o nazwie, niezależnie od typu zawierającego lub przestrzeni nazw).
- W pełni kwalifikowane nazwy w formacie identyfikatora dokumentacji symbolu: https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format z opcjonalnym prefiksem "T:".

Przykłady:

| Wartość opcji | Podsumowanie |
| --- | --- |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = ISomething->System.Collections.Generic.IEnumerable`\``1`| Wszystkie typy implementujące "ISomething", niezależnie od jego przestrzeni nazw, powinny również implementować element "System. Collections. Generic. IEnumerable" 1 ". |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = T:System.Collections.IDictionary->T:System.Collections.Generic.IDictionary`\``2`| Wszystkie typy implementujące "System. Collections. Generic. IDictionary" oczekują również implementacji "System. Collections. Generic. IDictionary" 2 ". |

## <a name="example-violation"></a>Przykładowe naruszenie

Poniższy przykład pokazuje klasę (typ referencyjny), która pochodzi od klasy niegenerycznej `CollectionBase` , która narusza tę regułę.

[!code-csharp[FxCop.Design.CollectionsGenericViolation#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_1.cs)]

Aby naprawić naruszenie tej reguły, wykonaj jedną z następujących czynności:

- Zaimplementuj interfejsy ogólne.
- Zmień klasę bazową na typ, który implementuje zarówno interfejsy ogólne, jak i inne niż ogólne, takie jak `Collection<T>` Klasa.

## <a name="fix-by-base-class-change"></a>Napraw według zmiany klasy bazowej

Poniższy przykład naprawia naruszenie, zmieniając klasę bazową kolekcji z klasy niegenerycznej `CollectionBase` na klasę generyczną `Collection<T>` ( `Collection(Of T)` w Visual Basic).

[!code-csharp[FxCop.Design.CollectionsGenericBase#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_2.cs)]

Zmiana klasy bazowej już wydanej klasy jest traktowana jako istotna zmiana dla istniejących odbiorców.

## <a name="fix-by-interface-implementation"></a>Naprawa przez implementację interfejsu

Poniższy przykład naprawia naruszenie, implementując te interfejsy ogólne: `IEnumerable<T>` , `ICollection<T>` , i `IList<T>` ( `IEnumerable(Of T)` , `ICollection(Of T)` , i `IList(Of T)` w Visual Basic).

[!code-csharp[FxCop.Design.CollectionsGenericInterface#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_3.cs)]

## <a name="related-rules"></a>Powiązane reguły

- [CA1005: Unikaj nadmiernego użycia parametrów w typach ogólnych](../code-quality/ca1005.md)
- [CA1000: Nie deklaruj statycznych składowych na typach ogólnych](../code-quality/ca1000.md)
- [CA1002: Nie uwidaczniaj list ogólnych](../code-quality/ca1002.md)
- [CA1006: Nie zagnieżdżaj typów ogólnych w podpisach składowych](../code-quality/ca1006.md)
- [CA1004: Metody ogólne powinny podawać parametr typu](../code-quality/ca1004.md)
- [CA1003: Użyj ogólnych wystąpień procedury obsługi zdarzeń](../code-quality/ca1003.md)
- [CA1007: Używaj typów ogólnych tam, gdzie to odpowiednie](../code-quality/ca1007.md)

## <a name="see-also"></a>Zobacz także

- [Typy ogólne](/dotnet/csharp/programming-guide/generics/index)
