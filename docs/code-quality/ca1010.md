---
title: 'CA1010: Kolekcje powinny implementować interfejs generyczny'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
helpviewer_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
ms.assetid: c7d7126f-fa70-40be-8f93-3243e1760dc5
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: a5aec731f453ae7e29f74d6c0198cf16d1ca1f77
ms.sourcegitcommit: ade07bd1cf69b8b494d171ae648cfdd54f7800d3
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/21/2020
ms.locfileid: "81648481"
---
# <a name="ca1010-collections-should-implement-generic-interface"></a>CA1010: Kolekcje powinny implementować interfejs generyczny

|||
|-|-|
|TypeName|CollectionsShouldImplementGenericInterface|
|CheckId|CA1010|
|Kategoria|Microsoft.Design|
|Przełomowa zmiana|Nierozrywając się|

## <a name="cause"></a>Przyczyna

Typ implementuje <xref:System.Collections.IEnumerable?displayProperty=fullName> interfejs, ale nie <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName> implementuje interfejsu i zawierający cele zestawu .NET. Ta reguła ignoruje <xref:System.Collections.IDictionary?displayProperty=fullName>typy implementuujne .

Domyślnie ta reguła dotyczy tylko typów widocznych z zewnątrz, ale jest [konfigurowalna](#configurability). Można również skonfigurować dodatkowe interfejsy, aby wymagać zaimplementowania interfejsu ogólnego.

## <a name="rule-description"></a>Opis reguły

Aby poszerzyć użyteczność kolekcji, zaimplementuj jeden z interfejsów kolekcji generycznej. Następnie kolekcja może służyć do wypełniania typów kolekcji rodzajowych, takich jak następujące:

- <xref:System.Collections.Generic.List%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Queue%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Stack%601?displayProperty=fullName>

## <a name="how-to-fix-violations"></a>Jak naprawić naruszenia

Aby naprawić naruszenie tej reguły, należy zaimplementować jeden z następujących interfejsów kolekcji rodzajowej:

- <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName>
- <xref:System.Collections.Generic.ICollection%601?displayProperty=fullName>
- <xref:System.Collections.Generic.IList%601?displayProperty=fullName>

## <a name="when-to-suppress-warnings"></a>Kiedy należy pomijać ostrzeżenia

Można bezpiecznie pominąć ostrzeżenie od tej reguły; jednak wykorzystanie kolekcji będzie bardziej ograniczone.

## <a name="configurability"></a>Konfiguracji

Jeśli ta reguła jest uruchomiona z [analizatorów FxCop](install-fxcop-analyzers.md) (a nie z starszą analizą), możesz skonfigurować części bazy kodu, aby uruchomić tę regułę na podstawie ich ułatwień dostępu. Na przykład, aby określić, że reguła powinna być uruchamiana tylko na powierzchni niepublicznego interfejsu API, dodaj następującą parę klucz-wartość do pliku .editorconfig w projekcie:

```ini
dotnet_code_quality.ca1010.api_surface = private, internal
```

Tę opcję można skonfigurować tylko dla tej reguły, dla wszystkich reguł lub dla wszystkich reguł w tej kategorii (Projekt). Aby uzyskać więcej informacji, zobacz [Konfigurowanie analizatorów FxCop](configure-fxcop-analyzers.md).

### <a name="additional-required-generic-interfaces"></a>Dodatkowe wymagane interfejsy ogólne

Można skonfigurować listę nazw interfejsów (oddzielonych "|") z wymaganym ogólnym, w pełni kwalifikowanym interfejsem (oddzielonym od >).You can configure the list of interface names (separated by '|') with their required generic fully qualified interface (separated by '->').

Dozwolone formaty interfejsu:

- Tylko nazwa interfejsu (zawiera wszystkie interfejsy o nazwie, niezależnie od typu lub obszaru nazw zawierającego).
- W pełni kwalifikowane nazwy w formacie https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format identyfikatora dokumentacji symbolu: z opcjonalnym prefiksem "T:".

Przykłady:

| Wartość opcji | Podsumowanie |
| --- | --- |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = ISomething->System.Collections.Generic.IEnumerable`\``1`| Wszystkie typy implementujące "ISomething" niezależnie od jego obszaru nazw powinny również implementować "System.Collections.Generic.IEnumerable'1". |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = T:System.Collections.IDictionary->T:System.Collections.Generic.IDictionary`\``2`| Wszystkie typy implementujące "System.Collections.Generic.IDictionary" mają również implementować 'System.Collections.Generic.IDictionary'2'. |

## <a name="example-violation"></a>Przykładowe naruszenie

Poniższy przykład przedstawia klasę (typ odwołania), która pochodzi `CollectionBase` od klasy nierodzgonej, która narusza tę regułę.

[!code-csharp[FxCop.Design.CollectionsGenericViolation#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_1.cs)]

Aby naprawić naruszenie tej reguły, wykonaj jedną z następujących czynności:

- Zaimplementuj interfejsy ogólne.
- Zmień klasę podstawową na typ, który już implementuje interfejsy ogólne `Collection<T>` i niegeneralne, takie jak klasa.

## <a name="fix-by-base-class-change"></a>Napraw według zmiany klasy podstawowej

Poniższy przykład rozwiązuje naruszenie, zmieniając klasę podstawową kolekcji `CollectionBase` z klasy `Collection<T>` niegenerycznej na klasę ogólną (w`Collection(Of T)` języku Visual Basic).

[!code-csharp[FxCop.Design.CollectionsGenericBase#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_2.cs)]

Zmiana klasy podstawowej już wydanej klasy jest uważana za przełomową zmianę dla istniejących konsumentów.

## <a name="fix-by-interface-implementation"></a>Naprawia według implementacji interfejsu

Poniższy przykład rozwiązuje naruszenie, implementując te `IEnumerable<T>`ogólne `ICollection<T>`interfejsy: `ICollection(Of T)`, `IList(Of T)` , i `IList<T>` ( ,`IEnumerable(Of T)`i visual basic).

[!code-csharp[FxCop.Design.CollectionsGenericInterface#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_3.cs)]

## <a name="related-rules"></a>Powiązane reguły

- [CA1005: Unikaj nadużywania parametrów na typach generycznych](../code-quality/ca1005.md)
- [CA1000: Nie deklaruj składowych statycznych w typach ogólnych](../code-quality/ca1000.md)
- [CA1002: Nie ujawniaj list ogólnych](../code-quality/ca1002.md)
- [CA1006: Nie zagnieżdżaj typów generycznych w podpisach elementu członkowskiego](../code-quality/ca1006.md)
- [CA1004: Metody ogólne powinny udostępniać parametr typu](../code-quality/ca1004.md)
- [CA1003: Użyj wystąpień ogólnej procedury obsługi zdarzeń](../code-quality/ca1003.md)
- [CA1007: Używaj danych generycznych wszędzie, gdzie jest to odpowiednie](../code-quality/ca1007.md)

## <a name="see-also"></a>Zobacz też

- [Typy ogólne](/dotnet/csharp/programming-guide/generics/index)
