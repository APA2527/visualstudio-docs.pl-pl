---
title: C26111
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- C26111
helpviewer_keywords:
- C26111
ms.assetid: 85fc740a-3bbb-41b8-a848-95e243a08da9
author: mikeblome
ms.author: mblome
manager: markl
ms.workload:
- multiple
ms.openlocfilehash: 299b2f3918af48e84f74cde5d4d783645491ef5d
ms.sourcegitcommit: 174c992ecdc868ecbf7d3cee654bbc2855aeb67d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/06/2019
ms.locfileid: "74879207"
---
# <a name="c26111"></a>C26111
Ostrzeżenie C26111: wywołujący nie mógł zwolnić blokady \<Lock > przed wywołaniem funkcji \<Func >.

 Adnotacja `_Requires_lock_not_held_` nakłada warunek wstępny, że liczba blokad dla określonej blokady nie może być większa od zera, gdy funkcja jest wywoływana. Ostrzeżenie C26111 jest generowane, gdy funkcja nie może zwolnić blokady przed wywołaniem innej funkcji.

## <a name="example"></a>Przykład
 Poniższy przykład generuje ostrzeżenie C26111, ponieważ warunki wstępne `_Requires_lock_not_held_` są naruszane przez wywołanie `DoNotLock` w zablokowanej sekcji.

```cpp
typedef struct _DATA
{
    CRITICAL_SECTION cs;
    int d;
} DATA;

_Requires_lock_not_held_(p->cs)

void DoNotLock(DATA* p)
{
    EnterCriticalSection(&p->cs);
    p->d = 0;
    LeaveCriticalSection(&p->cs);
}

void LockedFunction(DATA* p)
{
    EnterCriticalSection(&p->cs);
    DoNotLock(p); // Warning C26111
    LeaveCriticalSection(&p->cs);
}
```
