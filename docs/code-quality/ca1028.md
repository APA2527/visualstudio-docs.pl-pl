---
title: 'CA1028: Magazyn typu wyliczeniowego powinien być typu Int32'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- CA1028
- EnumStorageShouldBeInt32
helpviewer_keywords:
- EnumStorageShouldBeInt32
- CA1028
ms.assetid: 87160825-9f39-4142-8d7f-a31fe7ac7b84
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: c61801abd18b2fab1802b1bfc4cf14ee28405156
ms.sourcegitcommit: a18c7e9b367c2f92f6e54c3eaef442775d457667
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/15/2020
ms.locfileid: "90096842"
---
# <a name="ca1028-enum-storage-should-be-int32"></a>CA1028: Magazyn typu wyliczeniowego powinien być typu Int32

|Element|Wartość|
|-|-|
|RuleId|CA1028|
|Kategoria|Microsoft. Design|
|Zmiana podziału|Kluczowa|

## <a name="cause"></a>Przyczyna

Typ podstawowy wyliczenia nie jest <xref:System.Int32?displayProperty=fullName> .

Domyślnie ta reguła sprawdza tylko publiczne wyliczenia, ale [można to skonfigurować](#configurability).

## <a name="rule-description"></a>Opis reguły

Wyliczenie to typ wartości, który definiuje zestaw powiązanych, nazwanych stałych. Domyślnie <xref:System.Int32?displayProperty=fullName> Typ danych jest używany do przechowywania wartości stałej. Mimo że można zmienić ten typ podstawowy, nie jest to konieczne ani zalecane w przypadku większości scenariuszy. Nie zostanie osiągnięty znaczący wzrost wydajności przy użyciu typu danych, który jest mniejszy niż <xref:System.Int32> . Jeśli nie można użyć domyślnego typu danych, należy użyć jednego z typów całkowitych zgodnych ze specyfikacją CLS (Common Language system),,, <xref:System.Byte> <xref:System.Int16> <xref:System.Int32> lub <xref:System.Int64> Aby upewnić się, że wszystkie wartości wyliczenia mogą być reprezentowane w językach programowania zgodnych ze specyfikacją CLS.

## <a name="how-to-fix-violations"></a>Jak naprawić naruszenia

Aby naprawić naruszenie tej reguły, chyba że występują problemy z rozmiarem lub zgodnością, użyj programu <xref:System.Int32> . W sytuacjach <xref:System.Int32> , gdy nie jest wystarczająco duży, aby pomieścić wartości, użyj <xref:System.Int64> . Jeśli zgodność z poprzednimi wersjami wymaga mniejszego typu danych, użyj <xref:System.Byte> lub <xref:System.Int16> .

## <a name="when-to-suppress-warnings"></a>Kiedy pominąć ostrzeżenia

Pomiń ostrzeżenie z tej reguły tylko w przypadku, gdy wymagają to problemów ze zgodnością z poprzednimi wersjami. W aplikacjach niezgodność z tą regułą zwykle nie powoduje problemów. W bibliotekach, w których wymagane jest współdziałanie języków, niezgodność z tą regułą może mieć negatywny wpływ na użytkowników.

## <a name="configurability"></a>Określając

Można skonfigurować, które części bazy kodu mają uruchamiać tę regułę, na podstawie ich dostępności. Na przykład aby określić, że reguła powinna być uruchamiana tylko względem powierzchni niepublicznego interfejsu API, Dodaj następującą parę klucz-wartość do pliku editorconfig w projekcie:

```ini
dotnet_code_quality.ca1028.api_surface = private, internal
```

Tę opcję można skonfigurować tylko dla tej reguły, dla wszystkich reguł lub dla wszystkich reguł w tej kategorii (projekt). Aby uzyskać więcej informacji, zobacz [Konfigurowanie analizatorów jakości kodu platformy .NET](configure-fxcop-analyzers.md).

## <a name="example-of-a-violation"></a>Przykład naruszenia

W poniższym przykładzie przedstawiono dwa wyliczenia, które nie używają zalecanego bazowego typu danych.

[!code-vb[FxCop.Design.EnumIntegralType#1](../code-quality/codesnippet/VisualBasic/ca1028-enum-storage-should-be-int32_1.vb)]
[!code-csharp[FxCop.Design.EnumIntegralType#1](../code-quality/codesnippet/CSharp/ca1028-enum-storage-should-be-int32_1.cs)]

## <a name="example-of-how-to-fix"></a>Przykład naprawy

Poniższy przykład naprawia poprzednie naruszenie, zmieniając typ danych bazowych na <xref:System.Int32> .

[!code-csharp[FxCop.Design.EnumIntegralTypeFixed#1](../code-quality/codesnippet/CSharp/ca1028-enum-storage-should-be-int32_2.cs)]
[!code-vb[FxCop.Design.EnumIntegralTypeFixed#1](../code-quality/codesnippet/VisualBasic/ca1028-enum-storage-should-be-int32_2.vb)]

## <a name="related-rules"></a>Powiązane reguły

- [CA1008: Typy wyliczeniowe powinny mieć wartość zero](../code-quality/ca1008.md)
- [CA1027: Oznacz typy wyliczeniowe atrybutem Flags](../code-quality/ca1027.md)
- [CA2217: Nie oznaczaj typów wyliczeniowych atrybutem Flags](../code-quality/ca2217.md)
- [CA1700: Nie nadawaj wartościom wyliczeniowym nazwy „Reserved”](../code-quality/ca1700.md)
- [CA1712: Nie dodawaj prefiksu z nazwą typu do wartości wyliczeniowych](../code-quality/ca1712.md)

## <a name="see-also"></a>Zobacz także

- <xref:System.Byte?displayProperty=fullName>
- <xref:System.Int16?displayProperty=fullName>
- <xref:System.Int32?displayProperty=fullName>
- <xref:System.Int64?displayProperty=fullName>
