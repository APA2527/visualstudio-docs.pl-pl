---
title: C26418| Microsoft Docs
ms.date: 11/15/2017
ms.prod: visual-studio-dev15
ms.topic: conceptual
f1_keywords:
- C26418
helpviewer_keywords:
- C26418
ms.assetid: d2c84a40-8a5d-4018-92c2-6498cdd9b541
author: mikeblome
ms.author: mblome
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 9c6bf777a139f7408ea1086e03b7bc5f82208193
ms.sourcegitcommit: 2193323efc608118e0ce6f6b2ff532f158245d56
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/25/2019
ms.locfileid: "54990683"
---
# <a name="c26418-novalueorconstrefsharedptr"></a>C26418 NO_VALUE_OR_CONST_REF_SHARED_PTR
"Parametr wskaźnika udostępnionego nie jest kopiowane lub przeniesiony. Użyj T * lub T &. "

**W języku C++ podstawowych wytycznych dotyczących**: R.36: Wykonaj const shared_ptr<widget>& parametr express, że mogą zachować, licznik odwołań do obiektu

Jeśli parametr wskaźnika udostępnionego jest przekazywany przez wartość lub odwołanie do obiektu stałej oczekuje się, że funkcja będzie przejąć kontrolę nad okresu istnienia obiektu docelowego bez wywierania wpływu na obiektu wywołującego. Kod powinien skopiuj lub Przenieś parametr wskaźnika udostępnionego do innego obiektu wskaźnika udostępnionego lub przekazać dostosowaną inny kod, za pomocą wywołania funkcji, które zaakceptować udostępnionego wskaźników. Jeśli nie jest to możliwe, zwykły wskaźnik lub odwołanie może być możliwe.

## <a name="remarks"></a>Uwagi
-  To sprawdzenie rozpoznaje std::shared_pointer i typy zdefiniowane przez użytkownika, które mogą zachowywać się jak wskaźniki udostępnionych. Zdefiniowane przez użytkownika udostępnionego wskaźników oczekuje następujące cechy:
-  przeciążone wyłuskania lub elementu członkowskiego dostępu do podmiotów (publiczne i nieusunięte).
-  Konstruktor kopiujący lub kopia operatora przypisania (publiczne i nieusunięte);
-  destruktorem publicznym, który nie jest usuwane ani przyjmujące wartości domyślne. Pustych destruktorów nadal są liczone jako zdefiniowanych przez użytkownika.

## <a name="example"></a>Przykład
Interfejs niepotrzebne kompilacji

```cpp
template<class T>
std::string to_string(const std::shared_ptr<T> &e) // C26418, also C26415 SMART_PTR_NOT_NEEDED
{
    return !e ? null_string : e->to_string();
}
```

## <a name="example"></a>Przykład
Interfejs niepotrzebne kompilacji — uproszczony

```cpp
template<class T>
std::string to_string(const T *e)
{
    return !e ? null_string : e->to_string();
}
```
