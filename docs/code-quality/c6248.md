---
title: C6248
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- C6248
helpviewer_keywords:
- C6248
ms.assetid: 75743622-7a79-4fe8-81b9-dbdfa1a12f3d
author: mikeblome
ms.author: mblome
manager: markl
ms.workload:
- multiple
ms.openlocfilehash: b80cbd9fccc62681894def5e9c15ee9f0b278496
ms.sourcegitcommit: 174c992ecdc868ecbf7d3cee654bbc2855aeb67d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/06/2019
ms.locfileid: "74878596"
---
# <a name="c6248"></a>C6248
Ostrzeżenie C6248: ustawienie listy DACL SECURITY_DESCRIPTORej na NULL spowoduje niechroniony obiekt

 Ostrzeżenie to identyfikuje wywołanie, które ustawia pole listy DACL SECURITY_DESCRIPTOR na null. Jeśli lista DACL, należąca do deskryptora zabezpieczeń obiektu ma wartość NULL, tworzona jest lista DACL o wartości null. Lista DACL o wartości null przyznaje pełny dostęp każdemu użytkownikowi, który go zażąda; w odniesieniu do obiektu nie wykonuje się typowego sprawdzenia bezpieczeństwa. Nie należy mylić DACL o wartości null z pustą listą DACL. Pusta lista DACL jest poprawnie zaalokowaną i zainicjowaną DACL, która nie zawiera ACE. Pusta lista DACL nie przyznaje dostępu do przypisanego do niej obiektu.

 Obiekty posiadające listy DACL o wartości null są narażone na zmianę ich deskryptorów zabezpieczeń przez złośliwych użytkowników tak, aby nikt nie miał dostępu do obiektu.

 Nawet jeśli wszyscy potrzebują dostępu do obiektu, powinien być on zabezpieczony tak, aby tylko administratorzy mogli zmieniać jego zabezpieczenia. Jeśli tylko twórca potrzebuje dostępu do obiektu, lista DACL nie powinna być ustawiona na obiekt; system wybierze odpowiednią wartość domyślną.

## <a name="example"></a>Przykład
 Poniższy kod generuje to ostrzeżenie, ponieważ DACL o wartości null jest przekazana do funkcji `SetSecurityDescriptorDacl`:

```cpp
#include <windows.h>

void f( PSECURITY_DESCRIPTOR pSecurityDescriptor )
{
  if (SetSecurityDescriptorDacl(pSecurityDescriptor,
                                TRUE,     // Dacl Present
                                NULL,     // NULL pointer to DACL
                                FALSE))   // Defaulted
    {
      // Dacl is now applied to an object
    }
}
```

 Aby zapoznać się z kompletnym przykładem tworzenia deskryptora zabezpieczeń, zobacz [Tworzenie deskryptora zabezpieczeń dla nowego obiektu w C++ ](/windows/desktop/SecAuthZ/creating-a-security-descriptor-for-a-new-object-in-c--). Aby uzyskać więcej informacji, zobacz [Tworzenie listy DACL](/windows/desktop/SecBP/creating-a-dacl).
