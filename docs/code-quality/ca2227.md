---
title: 'CA2227: Właściwości kolekcji powinny być tylko do odczytu'
ms.date: 09/28/2018
ms.topic: reference
f1_keywords:
- CA2227
- CollectionPropertiesShouldBeReadOnly
helpviewer_keywords:
- CA2227
- CollectionPropertiesShouldBeReadOnly
ms.assetid: 26967aaf-6fbe-438a-b4d3-ac579b5dc0f9
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: 052a727c96dd5429cd619b0c243b556db94c47ba
ms.sourcegitcommit: de98ed7edc81383e47b87ae6e61143fbbbe7bc56
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/21/2020
ms.locfileid: "88707910"
---
# <a name="ca2227-collection-properties-should-be-read-only"></a>CA2227: Właściwości kolekcji powinny być tylko do odczytu

|Element|Wartość|
|-|-|
|CheckId|CA2227|
|Kategoria|Microsoft. Usage|
|Zmiana podziału|Kluczowa|

## <a name="cause"></a>Przyczyna

Zewnętrzna, modyfikowalna właściwość jest typu, który implementuje <xref:System.Collections.ICollection?displayProperty=fullName> . Ta reguła ignoruje tablice, indeksatory (właściwości o nazwie "Item"), niezmienne kolekcje, kolekcje tylko do odczytu i zestawy uprawnień.

## <a name="rule-description"></a>Opis reguły

Właściwość kolekcji zapisywalnej umożliwia użytkownikowi zastąpienie kolekcji zupełnie inną kolekcją. Właściwość tylko do odczytu uniemożliwia zamienienie kolekcji, ale nadal zezwala na ustawianie poszczególnych członków. Jeśli zastępowanie kolekcji jest celem, preferowanym wzorcem projektu jest dołączenie metody usuwania wszystkich elementów z kolekcji i metody ponownego wypełnienia kolekcji. Zobacz <xref:System.Collections.ArrayList.Clear%2A> i <xref:System.Collections.ArrayList.AddRange%2A> metody klasy, <xref:System.Collections.ArrayList?displayProperty=fullName> Aby zapoznać się z przykładem tego wzorca.

Serializacji binarne i XML obsługują właściwości tylko do odczytu, które są kolekcjami. <xref:System.Xml.Serialization.XmlSerializer?displayProperty=fullName>Klasa ma określone wymagania dotyczące typów, które implementują <xref:System.Collections.ICollection> i <xref:System.Collections.IEnumerable?displayProperty=fullName> Aby można było je serializować.

## <a name="how-to-fix-violations"></a>Jak naprawić naruszenia

Aby naprawić naruszenie tej reguły, ustaw właściwość tylko do odczytu. Jeśli projekt jest wymagany, należy dodać metody, aby wyczyścić i ponownie wypełnić kolekcję.

## <a name="when-to-suppress-warnings"></a>Kiedy pominąć ostrzeżenia

Możesz pominąć ostrzeżenie, jeśli właściwość jest częścią klasy [transfer danych obiektu (DTO)](/previous-versions/msp-n-p/ff649585(v=pandp.10)) .

W przeciwnym razie nie pomijaj ostrzeżeń z tej reguły.

## <a name="example"></a>Przykład

Poniższy przykład przedstawia typ z właściwością kolekcji zapisywalnej i pokazuje, jak można zamienić kolekcję bezpośrednio. Ponadto pokazuje preferowany sposób zastąpienia właściwości kolekcji tylko do odczytu przy użyciu `Clear` `AddRange` metod i.

[!code-csharp[FxCop.Usage.PropertiesReturningCollections#1](../code-quality/codesnippet/CSharp/ca2227-collection-properties-should-be-read-only_1.cs)]
[!code-vb[FxCop.Usage.PropertiesReturningCollections#1](../code-quality/codesnippet/VisualBasic/ca2227-collection-properties-should-be-read-only_1.vb)]

## <a name="related-rules"></a>Powiązane reguły

- [CA1819: Właściwości nie powinny zwracać tablic](../code-quality/ca1819.md)
