---
title: C6059
ms.date: 11/04/2016
ms.prod: visual-studio-dev15
ms.technology: vs-ide-code-analysis
ms.topic: reference
f1_keywords:
- C6059
helpviewer_keywords:
- C6059
ms.assetid: 343a4cd1-048a-4edf-bb4b-187097bb6093
author: mikeblome
ms.author: mblome
manager: wpickett
ms.workload:
- multiple
ms.openlocfilehash: 090a3a92cd11330eaa3f3524db8daad0b172137b
ms.sourcegitcommit: f6dd17b0864419083d0a1bf54910023045526437
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/27/2018
ms.locfileid: "53803799"
---
# <a name="c6059"></a>C6059
Ostrzeżenie C6059: Nieprawidłowa długość parametru w wywołaniu \<funkcja >. Należy przekazać liczbę pozostałych znaków a nie rozmiar buforu \<zmienna >

 To ostrzeżenie wskazuje, czy wywołanie funkcji łączenia ciągów prawdopodobnie jest przekazanie nieprawidłową wartość Liczba znaków do łączenia. Ta wada może spowodować przepełnienie buforu możliwe do wykorzystania lub awarii. Częstą przyczyną tej wady jest przekazanie rozmiar buforu, zamiast liczba pozostałych znaków w buforze, funkcji manipulowania ciągiem.

## <a name="example"></a>Przykład
 Poniższy kod generuje to ostrzeżenie:

```
#include <string.h>
#define MAX 25

void f( )
{
  char szTarget[MAX];
  char *szState ="Washington";
  char *szCity="Redmond, ";

  strncpy(szTarget,szCity, MAX);
  szTarget[MAX -1] = '\0';
  strncat(szTarget, szState, MAX); //wrong size
  // code ...
}
```

 Aby poprawić to ostrzeżenie, należy użyć poprawną liczbę znaków do łączenia się, jak pokazano w poniższym kodzie:

```
#include <string.h>
#define MAX 25

void f( )
{
  char szTarget[MAX];
  char *szState ="Washington";
  char *szCity="Redmond, ";

  strncpy(szTarget,szCity, MAX);
  szTarget[MAX -1] = '\0';
  strncat(szTarget, szState, MAX - strlen(szTarget)); // correct size
  // code ...
}
```

 Aby poprawić to ostrzeżenie, przy użyciu funkcji manipulowania bezpieczny ciąg, zobacz następujący kod:

```
#include <string.h>

void f( )
{
  char *szState ="Washington";
  char *szCity="Redmond, ";

  size_t nTargetSize = strlen(szState) + strlen(szCity) + 1;
  char *szTarget= new char[nTargetSize];

  strncpy_s(szTarget, nTargetSize, szCity,strlen(szCity));
  strncat_s(szTarget, nTargetSize, szState,
                    nTargetSize - strlen(szTarget));
  // code ...
  delete [] szTarget;
}
```

## <a name="see-also"></a>Zobacz też

- [strncpy_s, _strncpy_s_l, wcsncpy_s, _wcsncpy_s_l, _mbsncpy_s, _mbsncpy_s_l](/cpp/c-runtime-library/reference/strncpy-s-strncpy-s-l-wcsncpy-s-wcsncpy-s-l-mbsncpy-s-mbsncpy-s-l)
- [strncat_s, _strncat_s_l, wcsncat_s, _wcsncat_s_l, _mbsncat_s, _mbsncat_s_l](/cpp/c-runtime-library/reference/strncat-s-strncat-s-l-wcsncat-s-wcsncat-s-l-mbsncat-s-mbsncat-s-l)