---
title: C6059
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- C6059
helpviewer_keywords:
- C6059
ms.assetid: 343a4cd1-048a-4edf-bb4b-187097bb6093
author: corob-msft
ms.author: corob
manager: markl
ms.workload:
- multiple
ms.openlocfilehash: af3a1090f597c1c766fcdc1e7cbcb93be749cdfb
ms.sourcegitcommit: 68f893f6e472df46f323db34a13a7034dccad25a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 02/15/2020
ms.locfileid: "77268454"
---
# <a name="c6059"></a>C6059
Ostrzeżenie C6059: nieprawidłowy parametr długości w wywołaniu funkcji \<>. Przekaż liczbę pozostałych znaków, a nie rozmiar buforu \<zmiennej >

 To ostrzeżenie wskazuje, że wywołanie funkcji łączenia ciągów prawdopodobnie przekazuje niepoprawną wartość dla liczby znaków do łączenia. Usterka może spowodować przepełnienie buforu lub awarię. Typową przyczyną tej wady jest przekazanie rozmiaru buforu zamiast pozostałej liczby znaków w buforze do funkcji manipulowania ciągami.

## <a name="example"></a>Przykład
 Poniższy kod generuje to ostrzeżenie:

```cpp
#include <string.h>
#define MAX 25

void f( )
{
  char szTarget[MAX];
  char *szState ="Washington";
  char *szCity="Redmond, ";

  strncpy(szTarget,szCity, MAX);
  szTarget[MAX -1] = '\0';
  strncat(szTarget, szState, MAX); //wrong size
  // code ...
}
```

 Aby poprawić to ostrzeżenie, użyj poprawnej liczby znaków do łączenia, jak pokazano w poniższym kodzie:

```cpp
#include <string.h>
#define MAX 25

void f( )
{
  char szTarget[MAX];
  char *szState ="Washington";
  char *szCity="Redmond, ";

  strncpy(szTarget,szCity, MAX);
  szTarget[MAX -1] = '\0';
  strncat(szTarget, szState, MAX - strlen(szTarget)); // correct size
  // code ...
}
```

 Aby poprawić to ostrzeżenie przy użyciu bezpiecznej funkcji manipulowania ciągami, zobacz następujący kod:

```cpp
#include <string.h>

void f( )
{
  char *szState ="Washington";
  char *szCity="Redmond, ";

  size_t nTargetSize = strlen(szState) + strlen(szCity) + 1;
  char *szTarget= new char[nTargetSize];

  strncpy_s(szTarget, nTargetSize, szCity,strlen(szCity));
  strncat_s(szTarget, nTargetSize, szState,
                    nTargetSize - strlen(szTarget));
  // code ...
  delete [] szTarget;
}
```

## <a name="see-also"></a>Zobacz też

- [strncpy_s, _strncpy_s_l, wcsncpy_s, _wcsncpy_s_l, _mbsncpy_s, _mbsncpy_s_l](/cpp/c-runtime-library/reference/strncpy-s-strncpy-s-l-wcsncpy-s-wcsncpy-s-l-mbsncpy-s-mbsncpy-s-l)
- [strncat_s, _strncat_s_l, wcsncat_s, _wcsncat_s_l, _mbsncat_s, _mbsncat_s_l](/cpp/c-runtime-library/reference/strncat-s-strncat-s-l-wcsncat-s-wcsncat-s-l-mbsncat-s-mbsncat-s-l)
